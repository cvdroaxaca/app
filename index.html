<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Santa Claus est√° llegando! üéÖ</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: #001d3d;
        }

        /* Mensaje flotante de Navidad */
        .navidad-overlay {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            padding: 20px 40px;
            border: 4px dashed #fff;
            text-align: center;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            width: 80%;
            max-width: 600px;
        }

        #map {
            height: 100vh;
            width: 100vw;
            /* Filtro para colores navide√±os: Verdes y rojos intensos */
            filter: sepia(0.5) hue-rotate(80deg) saturate(2);
        }

        .santa-icon {
            font-size: 50px;
            text-shadow: 0 0 15px gold;
            transition: all 0.5s linear;
        }

        .gift-icon {
            font-size: 25px;
            animation: twinkle 1.5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        h1 { margin: 0; font-size: 2rem; text-shadow: 2px 2px #000; }
        h2 { margin: 5px 0; color: #ffd700; }
    </style>
</head>
<body>

    <div class="navidad-overlay">
        <h1>üéÑ ¬°Feliz Navidad! üéÅ</h1>
        <h2>Y un pr√≥spero a√±o 2026</h2>
        <p>Santa est√° repartiendo regalos. ¬°Sitio en mantenimiento navide√±o!</p>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // 1. Inicializar mapa
        var map = L.map('map', {
            zoomControl: false,
            attributionControl: false
        }).setView([20, 0], 3);

        // 2. Capa de mapa (Estilo oscuro para que resalte el ne√≥n)
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

        // 3. Crear el marcador de Santa Claus (Trineo)
        var santaIcon = L.divIcon({
            className: 'santa-icon',
            html: 'üéÖüõ∑',
            iconSize: [60, 60],
            iconAnchor: [30, 30]
        });

        var santaMarker = L.marker([90, 0], {icon: santaIcon}).addTo(map);

        // 4. Ruta de Santa (Ciudades que visitar√°)
        var path = [
            [90, 0],       // Polo Norte
            [55.75, 37.61], // Mosc√∫
            [48.85, 2.35],  // Par√≠s
            [40.41, -3.70], // Madrid
            [40.71, -74.00],// NY
            [19.43, -99.13],// CDMX
            [-34.60, -58.38]// Buenos Aires
        ];

        var step = 0;

        function moveSanta() {
            var target = path[step];
            santaMarker.setLatLng(target);
            map.flyTo(target, 4, { duration: 3 });

            // Dejar un "regalo" en la ubicaci√≥n actual
            L.marker(target, {
                icon: L.divIcon({ className: 'gift-icon', html: 'üéÅ' })
            }).addTo(map).bindPopup("¬°Regalo entregado!");

            step = (step + 1) % path.length;
        }

        // Mover a Santa cada 5 segundos
        setInterval(moveSanta, 5000);
        moveSanta();

        // 5. Efecto de nieve (opcional: peque√±os c√≠rculos blancos aleatorios)
        for (let i = 0; i < 50; i++) {
            let lat = (Math.random() * 180) - 90;
            let lon = (Math.random() * 360) - 180;
            L.circle([lat, lon], {
                color: 'white',
                fillColor: '#fff',
                fillOpacity: 0.5,
                radius: 50000
            }).addTo(map);
        }

    </script>
</body>
</html>
